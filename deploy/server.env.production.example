# Production environment configuration
# Copy to server.env in your production deploy directory

# Environment name (used for container naming: lehrerlog-prod-server, lehrerlog-prod-db)
ENV_NAME=prod

IMAGE_NAME=ghcr.io/your-username/lehrerlog-server
IMAGE_TAG=latest

# Production runs on port 18080
HOST_PORT=18080

# Garage (S3-compatible storage)
GARAGE_IMAGE=dxflrs/garage:v2.2.0
GARAGE_DIR=/var/lib/lehrerlog/prod/garage
GARAGE_CONFIG_PATH=/home/aaron/docker/lehrerlog/garage/garage.toml
GARAGE_CONFIG_DIR=/home/aaron/docker/lehrerlog/garage
GARAGE_API_PORT=3900
GARAGE_ADMIN_PORT=3903
GARAGE_ADMIN_TOKEN=change-me
GARAGE_METRICS_TOKEN=change-me
GARAGE_RPC_SECRET=change-me

# PostgreSQL settings - USE STRONG PASSWORD IN PRODUCTION
POSTGRES_DB=lehrerlog_prod
POSTGRES_USER=lehrerlog
POSTGRES_PASSWORD=generate-a-strong-password-here

# Server settings (passed to the Ktor container)
SCHOOL_CATALOG_ENDPOINT=https://overpass-api.de/api/interpreter
# Optional object storage health endpoint (Garage admin /health)
OBJECT_STORAGE_HEALTH_URL=http://garage:3903/health

# Optional seed test user (recommended for QA verification)
# Use a very strong password and keep it out of VCS.
SEED_TEST_USER_EMAIL=
# Prefer the base64-encoded password to avoid env parsing issues.
SEED_TEST_USER_PASSWORD_B64=
SEED_TEST_USER_FIRST_NAME=QA
SEED_TEST_USER_LAST_NAME=Verifier
SEED_TEST_SCHOOL_CODE=QA-TEST
SEED_TEST_SCHOOL_NAME=QA Test School

# Production storage paths (absolute paths recommended)
DATA_DIR=/var/lib/lehrerlog/prod/data
DB_DATA_DIR=/var/lib/lehrerlog/prod/pgdata
